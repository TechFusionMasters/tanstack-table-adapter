"use strict";var e=require("react/jsx-runtime"),n=require("react"),l=require("@tanstack/react-table");const t=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-24",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-2"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Loading data..."})]}),i=()=>e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-[rgba(255, 255, 255, 0.5)]",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-6 ",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-500 border-t-transparent mb-2"}),e.jsx("span",{className:"text-base font-medium text-blue-700",children:"Updating results..."})]})}),o=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-24 default-loading-component",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-2"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Loading data..."})]}),a=()=>e.jsx("div",{className:"flex items-center justify-center z-10 bg-[rgba(255, 255, 255, 0.5)] default-pagination-loading-component",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 ",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-4 border-blue-500 border-t-transparent"}),e.jsx("span",{className:"text-base font-medium text-blue-700",children:"Updating results..."})]})}),s=()=>e.jsx("tr",{children:e.jsx("td",{children:e.jsx("div",{className:"flex justify-center items-center h-24 text-gray-500",children:"No results found"})})}),r=({table:n,totalRowCount:l,isLoading:t,pageSizeOptions:i=[10,20,30,40,50]})=>{const o=void 0!==l?l:n.getFilteredRowModel().rows.length;return e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>n.previousPage(),disabled:!n.getCanPreviousPage(),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>n.nextPage(),disabled:!n.getCanNextPage(),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:n.getState().pagination.pageIndex*n.getState().pagination.pageSize+1})," ","to"," ",e.jsx("span",{className:"font-medium",children:Math.min((n.getState().pagination.pageIndex+1)*n.getState().pagination.pageSize,o)})," ","of ",e.jsx("span",{className:"font-medium",children:o})," results"]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>n.setPageIndex(0),disabled:!n.getCanPreviousPage()||t,className:"px-2 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"<<"}),e.jsx("button",{onClick:()=>n.previousPage(),disabled:!n.getCanPreviousPage()||t,className:"px-2 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"<"}),e.jsxs("span",{className:"flex items-center gap-1",children:[t?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500 mx-1"}):e.jsx("span",{children:"Page"}),e.jsxs("strong",{children:[n.getState().pagination.pageIndex+1," of"," ",n.getPageCount()]})]}),e.jsx("button",{onClick:()=>n.nextPage(),disabled:!n.getCanNextPage()||t,className:"px-2 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:">"}),e.jsx("button",{onClick:()=>n.setPageIndex(n.getPageCount()-1),disabled:!n.getCanNextPage()||t,className:"px-2 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:">>"}),e.jsx("select",{value:n.getState().pagination.pageSize,onChange:e=>{n.setPageSize(Number(e.target.value))},disabled:t,className:"px-2 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:i.map(n=>e.jsxs("option",{value:n,children:["Show ",n]},n))})]})})]})]})};exports.ColumnVisibilityToggle=({table:n,className:l="p-2"})=>e.jsx("div",{className:l,children:e.jsx("div",{className:"flex flex-wrap gap-2",children:n.getAllLeafColumns().map(n=>e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:n.getIsVisible(),onChange:n.getToggleVisibilityHandler(),className:"mr-1"}),n.id]})},n.id))})}),exports.DefaultPaginationComponent=r,exports.GlobalFilterInput=({value:n,onChange:l,placeholder:t="Search...",className:i="px-4 py-2 border rounded"})=>e.jsx("input",{type:"text",value:n,onChange:e=>l(e.target.value),placeholder:t,className:i}),exports.TableAdapter=function(t){var i,d,c,u,g,m,p,x,b,f,h,y,v,C,j,S,N,w,P,R,F,k,z,I,L,M,V,G,O,T,D,E,A,H,K,U,$,q,B,W,J;const Q=t.data,X=t.columns,Y=t.totalRowCount,Z=t.id,_=t.debugTable,ee=t.getRowId,ne=null!==(i=t.className)&&void 0!==i?i:"w-full",le=null!==(d=t.tableClassName)&&void 0!==d?d:"min-w-full divide-y divide-gray-200",te=null!==(c=t.headerClassName)&&void 0!==c?c:"bg-gray-50",ie=null!==(u=t.bodyClassName)&&void 0!==u?u:"bg-white divide-y divide-gray-200",oe=null!==(g=t.rowClassName)&&void 0!==g?g:"",ae=null!==(m=t.cellClassName)&&void 0!==m?m:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",se=null!==(p=t.columnResizeMode)&&void 0!==p?p:"onChange",re=null===(x=t.enablePagination)||void 0===x||x,de=null===(b=t.enableSorting)||void 0===b||b,ce=null===(f=t.enableMultiSort)||void 0===f||f,ue=null!==(h=t.enableColumnFilters)&&void 0!==h&&h,ge=null!==(y=t.enableGlobalFilter)&&void 0!==y&&y,me=null!==(v=t.enableColumnResizing)&&void 0!==v&&v,pe=null!==(C=t.enableRowSelection)&&void 0!==C&&C,xe=null!==(j=t.enableExpanding)&&void 0!==j&&j,be=null!==(S=t.enablePinning)&&void 0!==S&&S,fe=null!==(N=t.enableStickyHeader)&&void 0!==N&&N,he=null!==(w=t.enableGrouping)&&void 0!==w&&w,ye=null!==(P=t.pageSizeOptions)&&void 0!==P?P:[10,20,30,40,50],ve=null!==(R=t.pageSize)&&void 0!==R?R:10,Ce=null!==(F=t.pageIndex)&&void 0!==F?F:0,je=null!==(k=t.sorting)&&void 0!==k?k:[],Se=null!==(z=t.columnFilters)&&void 0!==z?z:[],Ne=null!==(I=t.globalFilter)&&void 0!==I?I:"",we=null!==(L=t.columnVisibility)&&void 0!==L?L:{},Pe=null!==(M=t.rowSelection)&&void 0!==M?M:{},Re=null!==(V=t.expanded)&&void 0!==V?V:{},Fe=t.columnOrder,ke=t.columnPinning,ze=t.grouping,Ie=t.onPaginationChange,Le=t.onSortingChange,Me=t.onColumnFiltersChange,Ve=t.onGlobalFilterChange,Ge=t.onColumnVisibilityChange,Oe=t.onRowSelectionChange,Te=t.onExpandedChange,De=t.onColumnOrderChange,Ee=t.onColumnPinningChange,Ae=t.onGroupingChange,He=null!==(G=t.manualPagination)&&void 0!==G&&G,Ke=null!==(O=t.manualSorting)&&void 0!==O&&O,Ue=null!==(T=t.manualFiltering)&&void 0!==T&&T,$e=null!==(D=t.manualGrouping)&&void 0!==D&&D,qe=null!==(E=t.pageCount)&&void 0!==E?E:-1,Be=null!==(A=t.autoResetPageIndex)&&void 0!==A?A:!He,We=t.globalFilterFn,Je=t.renderTableHeader,Qe=t.renderTableFooter,Xe=null!==(H=t.renderPagination)&&void 0!==H?H:r,Ye=null!==(K=t.renderNoResults)&&void 0!==K?K:s;t.renderExpanded;const Ze=t.renderRowSubComponent;t.renderGroupedCell;const _e=t.onRowClick,en=t.onCellClick;t.onExportData;const nn=null!==(U=t.isLoading)&&void 0!==U&&U,ln=null!==($=t.isPaginationLoading)&&void 0!==$&&$,tn=null!==(q=t.loadingComponent)&&void 0!==q?q:e.jsx(o,{}),on=null!==(B=t.paginationLoadingComponent)&&void 0!==B?B:e.jsx(a,{}),an=null!==(W=t.showOverlayLoading)&&void 0!==W&&W,sn=t.ariaLabel,rn=t.ariaLabelledBy,dn=t.ariaDescribedBy,cn=t.renderSortIcon,un=null===(J=t.enableSortingRemoval)||void 0===J||J,[gn,mn]=n.useState({pageIndex:Ce,pageSize:ve}),[pn,xn]=n.useState(je),[bn,fn]=n.useState(Se),[hn,yn]=n.useState(Ne),[vn,Cn]=n.useState(we),[jn,Sn]=n.useState(Pe),[Nn,wn]=n.useState(Re),[Pn,Rn]=n.useState(Fe||[]),[Fn,kn]=n.useState(ke||{left:[],right:[]}),[zn,In]=n.useState(ze||[]),Ln={pagination:!!Ie,sorting:!!Le,columnFilters:!!Me,globalFilter:!!Ve,columnVisibility:!!Ge,rowSelection:!!Oe,expanded:!!Te,columnOrder:!!De,columnPinning:!!Ee,grouping:!!Ae},Mn=Ln.pagination?{pageIndex:Ce,pageSize:ve}:gn,Vn=Ln.sorting?je:pn,Gn=Ln.columnFilters?Se:bn,On=Ln.globalFilter?Ne:hn,Tn=Ln.columnVisibility?we:vn,Dn=Ln.rowSelection?Pe:jn,En=Ln.expanded?Re:Nn,An=Ln.columnOrder?Fe||[]:Pn,Hn=Ln.columnPinning?ke||{left:[],right:[]}:Fn,Kn=Ln.grouping?ze||[]:zn,Un=n.useCallback(e=>{if(Ln.pagination){const n="function"==typeof e?e(Mn):e;Ie(n)}else mn(n=>"function"==typeof e?e(n):e)},[Ln.pagination,Mn,Ie]),$n=n.useCallback(e=>{if(Ln.sorting){const n="function"==typeof e?e(Vn):e;Le(n)}else xn(n=>"function"==typeof e?e(n):e)},[Ln.sorting,Vn,Le]),qn=n.useCallback(e=>{if(Ln.columnFilters){const n="function"==typeof e?e(Gn):e;Me(n)}else fn(n=>"function"==typeof e?e(n):e)},[Ln.columnFilters,Gn,Me]),Bn=n.useCallback(e=>{if(Ln.globalFilter){const n="function"==typeof e?e(On):e;Ve(n)}else yn(n=>"function"==typeof e?e(n):e)},[Ln.globalFilter,On,Ve]),Wn=n.useCallback(e=>{if(Ln.columnVisibility){const n="function"==typeof e?e(Tn):e;Ge(n)}else Cn(n=>"function"==typeof e?e(n):e)},[Ln.columnVisibility,Tn,Ge]),Jn=n.useCallback(e=>{if(Ln.rowSelection){const n="function"==typeof e?e(Dn):e;Oe(n)}else Sn(n=>"function"==typeof e?e(n):e)},[Ln.rowSelection,Dn,Oe]),Qn=n.useCallback(e=>{if(Ln.expanded){const n="function"==typeof e?e(En):e;Te(n)}else wn(n=>"function"==typeof e?e(n):e)},[Ln.expanded,En,Te]),Xn=n.useCallback(e=>{if(Ln.columnOrder){const n="function"==typeof e?e(An):e;De(n)}else Rn(n=>"function"==typeof e?e(n):e)},[Ln.columnOrder,An,De]),Yn=n.useCallback(e=>{if(Ln.columnPinning){const n="function"==typeof e?e(Hn):e;Ee(n)}else kn(n=>"function"==typeof e?e(n):e)},[Ln.columnPinning,Hn,Ee]),Zn=n.useCallback(e=>{if(Ln.grouping){const n="function"==typeof e?e(Kn):e;Ae(n)}else In(n=>"function"==typeof e?e(n):e)},[Ln.grouping,Kn,Ae]),_n=n.useMemo(()=>Q,[Q]),el=l.useReactTable({data:_n,columns:X,enableSorting:de,enableMultiSort:ce,enableColumnFilters:ue,enableGlobalFilter:ge,enableRowSelection:pe,enableExpanding:xe,enableColumnResizing:me,enablePinning:be,enableGrouping:he,enableSortingRemoval:un,state:{sorting:Vn,columnFilters:Gn,globalFilter:On,pagination:Mn,columnVisibility:Tn,rowSelection:Dn,expanded:En,columnOrder:An,columnPinning:Hn,grouping:Kn},onSortingChange:$n,onColumnFiltersChange:qn,onGlobalFilterChange:Bn,onPaginationChange:Un,onColumnVisibilityChange:Wn,onRowSelectionChange:Jn,onExpandedChange:Qn,onColumnOrderChange:Xn,onColumnPinningChange:Yn,onGroupingChange:Zn,getCoreRowModel:l.getCoreRowModel(),getSortedRowModel:Ke?void 0:l.getSortedRowModel(),getFilteredRowModel:Ue?void 0:l.getFilteredRowModel(),getPaginationRowModel:He?void 0:l.getPaginationRowModel(),manualPagination:He,manualSorting:Ke,manualFiltering:Ue,manualGrouping:$e,autoResetPageIndex:Be,pageCount:qe>0?qe:void 0,globalFilterFn:We,columnResizeMode:se,getRowId:ee,debugTable:_,meta:{updateData:(e,n,l)=>{console.log("Update data",e,n,l)}}});return e.jsxs("div",{className:ne,id:Z,children:[Je&&Je(el),e.jsxs("div",{className:"overflow-x-auto relative "+(an&&nn?"opacity-60":""),children:[an&&nn&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 z-10",children:tn}),e.jsxs("table",{className:le,"aria-label":sn,"aria-labelledby":rn,"aria-describedby":dn,children:[e.jsx("thead",{className:`${te} ${fe?"sticky top-0 z-10":""}`,children:el.getHeaderGroups().map(n=>e.jsx("tr",{children:n.headers.map(n=>{var t;return e.jsxs("th",{colSpan:n.colSpan,className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:n.getSize(),position:"relative"},children:[n.isPlaceholder?null:e.jsxs("div",{className:de&&n.column.getCanSort()?"cursor-pointer select-none":"",onClick:n.column.getToggleSortingHandler(),children:[l.flexRender(n.column.columnDef.header,n.getContext()),cn?cn(n.column.getIsSorted()):null!==(t={asc:" 🔼",desc:" 🔽"}[n.column.getIsSorted()])&&void 0!==t?t:null]}),me&&n.column.getCanResize()&&e.jsx("div",{onMouseDown:n.getResizeHandler(),onTouchStart:n.getResizeHandler(),className:"absolute right-0 top-0 h-full w-1 bg-gray-300 cursor-col-resize touch-none select-none "+(n.column.getIsResizing()?"bg-blue-500":"")})]},n.id)})},n.id))}),e.jsx("tbody",{className:ie,children:nn&&!an&&0===Q.length?e.jsx("tr",{children:e.jsx("td",{colSpan:el.getAllColumns().filter(e=>e.getIsVisible()).length,className:"px-6 py-12 text-center",children:tn})}):ln&&!an&&Q.length>0?e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("td",{colSpan:el.getAllColumns().filter(e=>e.getIsVisible()).length,className:"px-6 py-2 text-center border-b",children:on})}),el.getRowModel().rows.map(n=>{const t="function"==typeof oe?oe(n):oe;return e.jsx("tr",{className:`${t} opacity-50`,children:n.getVisibleCells().map(t=>{const i="function"==typeof ae?ae(n,t.column.id):ae;return e.jsx("td",{className:i,children:l.flexRender(t.column.columnDef.cell,t.getContext())},t.id)})},n.id)})]}):0===el.getRowModel().rows.length?Ye?Ye(el):e.jsx("tr",{children:e.jsx("td",{colSpan:el.getAllColumns().filter(e=>e.getIsVisible()).length,className:"px-6 py-12 text-center text-gray-500",children:e.jsx(s,{})})}):el.getRowModel().rows.map(t=>{const i="function"==typeof oe?oe(t):oe;return e.jsxs(n.Fragment,{children:[e.jsx("tr",{className:i,onClick:_e?()=>_e(t):void 0,children:t.getVisibleCells().map(n=>{const i="function"==typeof ae?ae(t,n.column.id):ae;return e.jsx("td",{className:i,onClick:en?()=>en(t,n.column.id):void 0,children:l.flexRender(n.column.columnDef.cell,n.getContext())},n.id)})}),xe&&t.getIsExpanded()&&Ze&&e.jsx("tr",{children:e.jsx("td",{colSpan:t.getVisibleCells().length,children:Ze(t)})})]},t.id)})})]})]}),Qe&&Qe(el),re&&Xe&&Xe({table:el,totalRowCount:Y,isLoading:ln,pageSizeOptions:ye})]})},exports.TableWithLoadingStates=function({isInitialLoading:n=!1,isPaginationLoading:l=!1,loadingComponent:o,paginationLoadingComponent:a,children:s}){const r=o||e.jsx(t,{}),d=a||e.jsx(i,{});return e.jsxs("div",{className:"relative",children:[n&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-60 backdrop-blur-sm z-10",children:r}),!n&&l&&e.jsx(e.Fragment,{children:d}),e.jsx("div",{className:l?"opacity-70 transition-opacity duration-200":"",children:s})]})},exports.exportToCSV=(e,n,l="export.csv")=>{const t=n.filter(e=>!("columns"in e&&e.columns)).map(e=>"string"==typeof e.header?e.header:e.id||String("accessorKey"in e?e.accessorKey:"")),i=e.map(e=>n.filter(e=>!("columns"in e&&e.columns)).map(n=>{let l="";if("accessorKey"in n&&n.accessorKey){const t=String(n.accessorKey);l=e[t]}else"accessorFn"in n&&n.accessorFn?l=n.accessorFn(e,0):n.id&&(l=e[n.id]);return"string"==typeof l?`"${l.replace(/"/g,'""')}"`:String(l)})),o=[t.join(","),...i.map(e=>e.join(","))].join("\n"),a=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(a),r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download",l),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},exports.fuzzyFilter=(e,n,l,t)=>{if(!l||""===l)return!0;const i=((e,n)=>{const l=n.split(".");let t=e;for(const e of l){if(null==t)return null;t=t[e]}return t})(e.original,n);if(null==i)return!1;const o=String(i).toLowerCase(),a=String(l).toLowerCase();return o.includes(a)};
//# sourceMappingURL=index.cjs.js.map
